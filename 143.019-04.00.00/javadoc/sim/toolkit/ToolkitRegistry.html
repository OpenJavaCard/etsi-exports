<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Mon Oct 15 10:39:23 GMT+02:00 2001 -->
<TITLE>
GSM 43.019 v4.0.0 Annex A: Java Card SIM API: Class  ToolkitRegistry
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ToolkitRegistry.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sim/toolkit/ProactiveResponseHandler.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sim/toolkit/ViewHandler.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ToolkitRegistry.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sim.toolkit</FONT>
<BR>
Class  ToolkitRegistry</H2>
<PRE>
java.lang.Object
  |
  +--<B>sim.toolkit.ToolkitRegistry</B>
</PRE>
<HR>
<DL>
<DT>public final class <B>ToolkitRegistry</B><DT>extends java.lang.Object</DL>

<P>
The <code>ToolkitRegistry</code> class offers basic services and methods to allow
 any Toolkit applet to register its configuration (supported events) during
 the install phase and possibly to change it during all the applet life time.
 Each toolkit applet will get a reference to its registry entry with the static 
 method <code>getEntry</code>. The initial state of all the events is cleared.<p>

 Note: the constants related to the events are defined in the <code>ToolkitConstants
 </code> interface.<p>

 Example of use:<pre><code>
 public class MyToolkitApplet extends Applet implements ToolkitInterface, ToolkitConstants {
     // data fields
     private ToolkitRegistry reg;
     private byte[] menuEntry = { ... };
     private byte menuId;
     //
     // Constructor of applet
     //
     public MyToolkitApplet() {
         // get the reference of the applet ToolkitRegistry object ...
         reg = ToolkitRegistry.getEntry();
         // ...and initialize it according to the applet characteristics
         menuId = reg.initMenuEntry(menuEntry, (short)0, (short)menuEntry.length,
                                      PRO_CMD_SET_UP_CALL, false, 0, 0);
         reg.disableMenuEntry(menuId);
		   reg.setEvent(EVENT_FORMATTED_SMS_PP_ENV);
         reg.setEvent(EVENT_CALL_CONTROL_BY_SIM);
     }
     //
     // Install method
     // *param bArray the array containing installation parameters
     // *param bOffset the starting offset in bArray
     // *param bLength the length in bytes of the parameter data in bArray
     //
     public static void install(byte bArray[], short bOffset, byte bLength) throws ISOException {
         // create and register applet
         MyToolkitApplet applet = new MyToolkitApplet();
         applet.register();
     }
     //
     // Process toolkit events
     // *param event the type of event to be processed
     // *exception ToolkitException
     //
     public void processToolkit(byte event) throws ToolkitException {
         if (event == EVENT_FORMATTED_SMS_PP_ENV) {
             reg.enableMenuEntry(menuId);
         } else if (event == EVENT_MENU_SELECTION) {
             //...
         }
     }
 }
 </code></pre>
<P>
<DL>
<DT><B>Version: </B><DD>4.0.0</DD>
<DT><B>See Also: </B><DD><A HREF="../../sim/toolkit/ToolkitInterface.html"><CODE>ToolkitInterface</CODE></A>, 
<A HREF="../../sim/toolkit/ToolkitException.html"><CODE>ToolkitException</CODE></A>, 
<A HREF="../../sim/toolkit/ToolkitConstants.html"><CODE>ToolkitConstants</CODE></A></DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#allocateTimer()">allocateTimer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Asks the Toolkit framework to allocate a Timer that the applet can manage.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#changeMenuEntry(byte, byte[], short, short, byte, boolean, byte, short)">changeMenuEntry</A></B>(byte&nbsp;id,
                byte[]&nbsp;menuEntry,
                short&nbsp;offset,
                short&nbsp;length,
                byte&nbsp;nextAction,
                boolean&nbsp;helpSupported,
                byte&nbsp;iconQualifier,
                short&nbsp;iconIdentifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Changes the value of a menu entry.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#clearEvent(byte)">clearEvent</A></B>(byte&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears an event in the Toolkit Registry entry of the applet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#disableMenuEntry(byte)">disableMenuEntry</A></B>(byte&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disables a menu entry.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#enableMenuEntry(byte)">enableMenuEntry</A></B>(byte&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enables a menu entry.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../sim/toolkit/ToolkitRegistry.html">ToolkitRegistry</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#getEntry()">getEntry</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is used by the Toolkit applet to get a reference to its 
 Toolkit Registry entry, so that it can handle its registration state to 
 the toolkit events.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;short</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#getPollInterval()">getPollInterval</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of seconds of the adjusted duration for the calling 
 toolkit applet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#initMenuEntry(byte[], short, short, byte, boolean, byte, short)">initMenuEntry</A></B>(byte[]&nbsp;menuEntry,
              short&nbsp;offset,
              short&nbsp;length,
              byte&nbsp;nextAction,
              boolean&nbsp;helpSupported,
              byte&nbsp;iconQualifier,
              short&nbsp;iconIdentifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialises the next menu entry allocated at loading.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#isEventSet(byte)">isEventSet</A></B>(byte&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allows to know if an event is set in the Toolkit Registry entry of the applet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#releaseTimer(byte)">releaseTimer</A></B>(byte&nbsp;timerIdentifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release a Timer that has been allocated to the calling applet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#requestPollInterval(short)">requestPollInterval</A></B>(short&nbsp;duration)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Requests a duration for the EVENT_STATUS_COMMAND event of the registering 
 toolkit applet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#setEvent(byte)">setEvent</A></B>(byte&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets an event in the Toolkit Registry entry of the applet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitRegistry.html#setEventList(byte[], short, short)">setEventList</A></B>(byte[]&nbsp;eventList,
             short&nbsp;offset,
             short&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets an event list in the Toolkit Registry entry of the applet.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getEntry()"><!-- --></A><H3>
getEntry</H3>
<PRE>
public static <A HREF="../../sim/toolkit/ToolkitRegistry.html">ToolkitRegistry</A> <B>getEntry</B>()
                                throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>This method is used by the Toolkit applet to get a reference to its 
 Toolkit Registry entry, so that it can handle its registration state to 
 the toolkit events.<DD><DL>
<DT><B>Returns:</B><DD>reference to the applet ToolkitRegistry object<DT><B>Throws:</B><DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
 		<li>REGISTRY_ERROR in case of register error</ul></DL>
</DD>
</DL>
<HR>

<A NAME="setEvent(byte)"><!-- --></A><H3>
setEvent</H3>
<PRE>
public void <B>setEvent</B>(byte&nbsp;event)
              throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Sets an event in the Toolkit Registry entry of the applet.
 No exception shall be thrown if the applet registers more than once to the same event.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - value of the new event to register (between -128 and 127)<DT><B>Throws:</B><DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>EVENT_NOT_SUPPORTED if the event is not supported
      <li>EVENT_ALREADY_REGISTERED if the event has already been registered
         (for limited event like Call Control)
		<li>EVENT_NOT_ALLOWED if event is EVENT_MENU_SELECTION, 
			EVENT_MENU_SELECTION_HELP_REQUEST, EVENT_TIMER_EXPIRATION, EVENT_STATUS_COMMAND</ul></DL>
</DD>
</DL>
<HR>

<A NAME="setEventList(byte[], short, short)"><!-- --></A><H3>
setEventList</H3>
<PRE>
public void <B>setEventList</B>(byte[]&nbsp;eventList,
                         short&nbsp;offset,
                         short&nbsp;length)
                  throws java.lang.NullPointerException,
                         java.lang.ArrayIndexOutOfBoundsException,
                         <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Sets an event list in the Toolkit Registry entry of the applet.
 In case of any exception the state of the registry is undefined. The toolkit applet has to include this 
 call within a transaction if necessary.

 <p>
 Notes:<ul>
 <li><em>If </em><code>offset</code><em> or </em><code>length</code><em> parameter is negative an </em><code>ArrayIndexOutOfBoundsException</code>
 <em> exception is thrown and no event list is set.</em>
 <li><em>If </em><code>offset+length</code><em> is greater than </em><code>eventList.length</code><em>, the length
 of the </em><code>eventList</code><em> array an </em><code>ArrayIndexOutOfBoundsException</code><em> exception is thrown
 and no event list is set.</em> 
 </ul><DD><DL>
<DT><B>Parameters:</B><DD><CODE>eventList</CODE> - buffer containing the list of the new events to register<DD><CODE>offset</CODE> - offset in the eventlist buffer for event registration<DD><CODE>length</CODE> - length in the eventlist buffer for event registration<DT><B>Throws:</B><DD><CODE>java.lang.NullPointerException</CODE> - if <code>eventlist</code> is <code>null</code><DD><CODE>java.lang.ArrayIndexOutOfBoundsException</CODE> - if setEventList would cause access of data outside array bounds.<DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>EVENT_NOT_SUPPORTED if one event is not supported
      <li>EVENT_ALREADY_REGISTERED if one event has already been registered
      (for limited event like Call Control)
	    <li>EVENT_NOT_ALLOWED if eventList contains EVENT_MENU_SELECTION, 
	    EVENT_MENU_SELECTION_HELP_REQUEST, EVENT_TIMER_EXPIRATION, EVENT_STATUS_COMMAND</ul></DL>
</DD>
</DL>
<HR>

<A NAME="clearEvent(byte)"><!-- --></A><H3>
clearEvent</H3>
<PRE>
public void <B>clearEvent</B>(byte&nbsp;event)
                throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Clears an event in the Toolkit Registry entry of the applet.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - the value of the event to unregister (between -128 and 127)<DT><B>Throws:</B><DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
	    <li>EVENT_NOT_ALLOWED if event is EVENT_MENU_SELECTION, 
	    EVENT_MENU_SELECTION_HELP_REQUEST, EVENT_TIMER_EXPIRATION, EVENT_STATUS_COMMAND</ul></DL>
</DD>
</DL>
<HR>

<A NAME="isEventSet(byte)"><!-- --></A><H3>
isEventSet</H3>
<PRE>
public boolean <B>isEventSet</B>(byte&nbsp;event)</PRE>
<DL>
<DD>Allows to know if an event is set in the Toolkit Registry entry of the applet.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - the value of the event (between -128 and 127)<DT><B>Returns:</B><DD>true if the event is set in the Toolkit Registry entry of the applet, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="disableMenuEntry(byte)"><!-- --></A><H3>
disableMenuEntry</H3>
<PRE>
public void <B>disableMenuEntry</B>(byte&nbsp;id)
                      throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Disables a menu entry.
 This method doesn't modify the registration state to the EVENT_MENU_SELECTION 
 and EVENT_MENU_SELECTION_HELP_REQUEST. After invocation of this method, during the current card session, the SIM 
 Toolkit Framework shall dynamically update the menu stored in the ME.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the menu entry identifier supplied by the <code>initMenuEntry()</code> method<DT><B>Throws:</B><DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>ENTRY_NOT_FOUND if the menu entry does not exist for this applet</ul></DL>
</DD>
</DL>
<HR>

<A NAME="enableMenuEntry(byte)"><!-- --></A><H3>
enableMenuEntry</H3>
<PRE>
public void <B>enableMenuEntry</B>(byte&nbsp;id)
                     throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Enables a menu entry.
 This method doesn't modify the registration state to the EVENT_MENU_SELECTION 
 and EVENT_MENU_SELECTION_HELP_REQUEST. After invocation of this method, during the current card session, the SIM 
 Toolkit Framework shall dynamically update the menu stored in the ME.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the menu entry identifier supplied by the <code>initMenuEntry()</code> method<DT><B>Throws:</B><DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>MENU_ENTRY_NOT_FOUND if the menu entry does not exist for this applet</ul></DL>
</DD>
</DL>
<HR>

<A NAME="initMenuEntry(byte[], short, short, byte, boolean, byte, short)"><!-- --></A><H3>
initMenuEntry</H3>
<PRE>
public byte <B>initMenuEntry</B>(byte[]&nbsp;menuEntry,
                          short&nbsp;offset,
                          short&nbsp;length,
                          byte&nbsp;nextAction,
                          boolean&nbsp;helpSupported,
                          byte&nbsp;iconQualifier,
                          short&nbsp;iconIdentifier)
                   throws java.lang.NullPointerException,
                          java.lang.ArrayIndexOutOfBoundsException,
                          <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Initialises the next menu entry allocated at loading. The default state of the menu entry is
 'enabled'. The value of the <code>helpSupported</code> boolean parameter
 defines the registration status of the applet to the event
 EVENT_MENU_SELECTION_HELP_REQUEST. The applet is registered to
 the EVENT_MENU_SELECTION. The icon identifier provided will be added to
 the icon identifier list of the item icon identifier list Simple TLV if
 all the applets registered to the EVENT_MENU_SELECTION provide it.
 The Icon list qualifier transmitted to the ME will be 'icon is not self
 explanatory' if one of the applet registered prefers this qualifier.
 This method shall be called by the applet in the same order than the 
 order of the item parameters defined at the applet loading if the applet
 has several menu entries. The applet shall initialise all its loaded 
 menu entries during its installation.

 <p>
 Notes:<ul>
 <li><em>If </em><code>offset</code><em> or </em><code>length</code><em> parameter is negative an </em><code>ArrayIndexOutOfBoundsException</code>
 <em> exception is thrown and no menu entry is initialised.</em>
 <li><em>If </em><code>offset+length</code><em> is greater than </em><code>menuEntry.length</code><em>, the length
 of the </em><code>menuEntry</code><em> array a </em><code>ArrayIndexOutOfBoundsException</code><em> exception is thrown
 and no menu entry is initialised.</em> 
 </ul><DD><DL>
<DT><B>Parameters:</B><DD><CODE>menuEntry</CODE> - a reference on a byte array, containing the menu entry string<DD><CODE>offset</CODE> - offset of the menu entry string in the buffer<DD><CODE>length</CODE> - length of the menu entry string<DD><CODE>nextAction</CODE> - a byte coding the next action indicator for the menu entry (or 0)<DD><CODE>helpSupported</CODE> - equals true if help is available for the menu entry<DD><CODE>iconQualifier</CODE> - the preferred value for the icon list qualifier<DD><CODE>iconIdentifier</CODE> - the icon identifier for the menu entry  (0 means no icon)<DT><B>Returns:</B><DD>the identifier attached to the initialised menu entry<DT><B>Throws:</B><DD><CODE>java.lang.NullPointerException</CODE> - if <code>menuEntry</code> is <code>null</code><DD><CODE>java.lang.ArrayIndexOutOfBoundsException</CODE> - if initMenuEntry would cause access of data outside array bounds.<DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>REGISTRY_ERROR if the menu entry cannot be initialised (eg no more item data in applet loading parameter)
	    <li>ALLOWED_LENGTH_EXCEEDED if the menu entry string is bigger than the alloacted space</ul></DL>
</DD>
</DL>
<HR>

<A NAME="changeMenuEntry(byte, byte[], short, short, byte, boolean, byte, short)"><!-- --></A><H3>
changeMenuEntry</H3>
<PRE>
public void <B>changeMenuEntry</B>(byte&nbsp;id,
                            byte[]&nbsp;menuEntry,
                            short&nbsp;offset,
                            short&nbsp;length,
                            byte&nbsp;nextAction,
                            boolean&nbsp;helpSupported,
                            byte&nbsp;iconQualifier,
                            short&nbsp;iconIdentifier)
                     throws java.lang.NullPointerException,
                            java.lang.ArrayIndexOutOfBoundsException,
                            <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Changes the value of a menu entry. The default state of the changed menu
 entry is 'enabled'. The value of the <code>helpSupported</code> boolean
 parameter defines the registration status of the EVENT_MENU_SELECTION_HELP_REQUEST
 event. The icon identifier provided will be added to the icon identifier list
 of the item icon identifier list Simple TLV if all the applets registered
 to the EVENT_MENU_SELECTION provide it.
 The Icon list qualifier transmitted to the ME will be 'icon is not self
 explanatory' if one of the applet registered prefers this qualifier.
 After the invocation of this method, during the current card session, the SIM Toolkit Framework
 shall dynamically update the menu stored in the ME.

 <p>
 Notes:<ul>
 <li><em>If </em><code>offset</code><em> or </em><code>length</code><em> parameter is negative an </em><code>ArrayIndexOutOfBoundsException</code>
 <em> exception is thrown and no menu entry is changed.</em>
 <li><em>If </em><code>offset+length</code><em> is greater than </em><code>menuEntry.length</code><em>, the length
 of the </em><code>menuEntry</code><em> array an </em><code>ArrayIndexOutOfBoundsException</code><em> exception is thrown
 and no menu entry is changed.</em> 
 </ul><DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the menu entry identifier supplied by the <code>initMenuEntry()</code> method<DD><CODE>menuEntry</CODE> - a reference on a byte array, containing the menu entry string<DD><CODE>offset</CODE> - the position of the menu entry string in the buffer<DD><CODE>length</CODE> - the length of the menu entry string<DD><CODE>nextAction</CODE> - a byte coding the next action indicator for the menu entry (or 0)<DD><CODE>helpSupported</CODE> - equals true if help is available for the menu entry<DD><CODE>iconQualifier</CODE> - the preferred value for the icon list qualifier<DD><CODE>iconIdentifier</CODE> - the icon identifier for the menu entry  (0 means no icon)<DT><B>Throws:</B><DD><CODE>java.lang.NullPointerException</CODE> - if <code>menuEntry</code> is <code>null</code><DD><CODE>java.lang.ArrayIndexOutOfBoundsException</CODE> - if changeMenuEntry would cause access of data outside array bounds.<DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>MENU_ENTRY_NOT_FOUND if the menu entry does not exist for this applet
	    <li>ALLOWED_LENGTH_EXCEEDED if the menu entry string is bigger than the alloacted space</ul></DL>
</DD>
</DL>
<HR>

<A NAME="allocateTimer()"><!-- --></A><H3>
allocateTimer</H3>
<PRE>
public byte <B>allocateTimer</B>()
                   throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Asks the Toolkit framework to allocate a Timer that the applet can manage.
 By calling this method the applet is registered to the
 EVENT_TIMER_EXPIRATION of the allocated timer.
 The timer is allocated by the applet until it explicitly releases it.
 So it can then issue the Timer Management proactive command to start, 
 stop or get the value of its allocated timer.<DD><DL>
<DT><B>Returns:</B><DD>the identifier of the Timer allocated to the applet<DT><B>Throws:</B><DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>NO_TIMER_AVAILABLE if all the timers are allocated or the maximum number 
		of timers have been allocated to this applet</ul></DL>
</DD>
</DL>
<HR>

<A NAME="releaseTimer(byte)"><!-- --></A><H3>
releaseTimer</H3>
<PRE>
public void <B>releaseTimer</B>(byte&nbsp;timerIdentifier)
                  throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Release a Timer that has been allocated to the calling applet.
 The applet is deregistered of the EVENT_TIMER_EXPIRATION
 for the indicated Timer Identifier.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timerIdentifier</CODE> - the identifier of the Timer to be released<DT><B>Throws:</B><DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>INVALID_TIMER_ID if the timerIdentifierd is not allocated to this applet.</ul></DL>
</DD>
</DL>
<HR>

<A NAME="requestPollInterval(short)"><!-- --></A><H3>
requestPollInterval</H3>
<PRE>
public void <B>requestPollInterval</B>(short&nbsp;duration)
                         throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>Requests a duration for the EVENT_STATUS_COMMAND event of the registering 
 toolkit applet. Due to different duration requested by other toolkit 
 applets or due to restriction of the ME, the SIM Toolkit Framework may 
 adjust another duration. 
 This method can be used at every time to request a new duration.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>duration</CODE> - specifies the number of seconds requested for proactive polling.
	        The maximum value of <code>duration</code> is <code>15300</code> (255 minutes).
	        If <code>duration<code> is equal to <code>POLL_NO_DURATION</code>, 
	        the calling applet deregisters from EVENT_STATUS_COMMAND, and 
	        the SIM Toolkit Framework may issue the POLLING OFF proactive command.
	        If <code>duration<code> is equal to <code>POLL_SYSTEM_DURATION</code>, 
	        the calling applet registers to the EVENT_STATUS_COMMAND and let
	        the SIM Toolkit Framework define the duration.<DT><B>Throws:</B><DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE> - with the following reason codes: <ul>
      <li>REGISTRY_ERROR 	 if <code>duration</code> is greater than the maximum value.</ul></DL>
</DD>
</DL>
<HR>

<A NAME="getPollInterval()"><!-- --></A><H3>
getPollInterval</H3>
<PRE>
public short <B>getPollInterval</B>()</PRE>
<DL>
<DD>Returns the number of seconds of the adjusted duration for the calling 
 toolkit applet.
 If the returned duration is equal to <code>POLL_NO_DURATION<code>, the toolkit 
 applet is not registered to EVENT_STATUS_COMMAND event.
 The returned duration may : 
	    - be a multiple of the real adjusted poll interval time at the ME.
 	    - differ from the requested duration due to request of other toolkit 
	    applets or due to restrictions of the current ME.
	    - be changed during the card session due requests from other toolkit applets.
	    - be wrong due to direct generation of the proactive command POLL INTERVAL or POLLING OFF.
 	    - not correspond to the ellasped time due to additional STATUS commands send by the ME.<DD><DL>
<DT><B>Returns:</B><DD>the number of seconds of the adjusted duration for the applet</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ToolkitRegistry.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sim/toolkit/ProactiveResponseHandler.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../sim/toolkit/ViewHandler.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ToolkitRegistry.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
