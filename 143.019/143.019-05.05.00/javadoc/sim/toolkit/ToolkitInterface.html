<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Sun Jan 05 12:53:33 CET 2003 -->
<TITLE>
ToolkitInterface (GSM 43.019 v5.5.0 Annex A: Java Card SIM API)
</TITLE>
<META NAME="keywords" CONTENT="sim.toolkit.ToolkitInterface,ToolkitInterface interface">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="ToolkitInterface (GSM 43.019 v5.5.0 Annex A: Java Card SIM API)";
}
</SCRIPT>
<BODY BGCOLOR="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ToolkitInterface.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sim/toolkit/ToolkitConstants.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ToolkitInterface.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
sim.toolkit</FONT>
<BR>
Interface ToolkitInterface</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD>javacard.framework.Shareable</DD>
</DL>
<HR>
<DL>
<DT>public interface <B>ToolkitInterface</B><DT>extends javacard.framework.Shareable</DL>

<P>
This interface must be implemented by a Toolkit applet (which extends 
 the <code>javacard.framework.Applet</code> class) so that it can be 
 triggered by the Toolkit Handler according to the registration information.
 The Toolkit applet will have to implement the processToolkit shared method
 so that it can be notified of the following events :

 <br><br><Table Border="1" Cellpadding="3"><tr bgcolor=#c0c0c0 align=center>
     <td> <b>Event</b>                               </td><td> <b>Description</b>                                         </td></tr>
 <tr><td> EVENT_PROFILE_DOWNLOAD                     </td><td> Terminal Profile command reception                         </td></tr>
 <tr><td> EVENT_FORMATTED_SMS_PP_ENV                 </td><td> 03.48 formatted envelope SMS-PP Data Download reception    </td></tr>
 <tr><td> EVENT_FORMATTED_SMS_PP_UPD                 </td><td> 03.48 formatted Update Record EF SMS                       </td></tr>
 <tr><td> EVENT_UNFORMATTED_SMS_PP_ENV               </td><td> Unformatted Envelope SMS-PP Data Download reception        </td></tr>
 <tr><td> EVENT_UNFORMATTED_SMS_PP_UPD               </td><td> Unformatted Update Record EF SMS                           </td></tr>
 <tr><td> EVENT_UNFORMATTED_SMS_CB                   </td><td> Unformatted Cell Broadcast Data Download command reception </td></tr>
 <tr><td> EVENT_MENU_SELECTION                       </td><td> Envelope Menu Selection command reception                  </td></tr>
 <tr><td> EVENT_MENU_SELECTION_HELP_REQUEST          </td><td> Envelope Menu Selection Help Request command reception     </td></tr>
 <tr><td> EVENT_CALL_CONTROL_BY_SIM                  </td><td> Envelope Call Control by SIM command reception             </td></tr>
 <tr><td> EVENT_MO_SHORT_MESSAGE_CONTROL_BY_SIM      </td><td> Envelope MO Short Message Control by SIM command reception </td></tr>
 <tr><td> EVENT_TIMER_EXPIRATION                     </td><td> Envelope Timer Expiration                                  </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_MT_CALL               </td><td> Envelope Event Download - MT call                          </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_CALL_CONNECTED        </td><td> Envelope Event Download - Call connected                   </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_CALL_DISCONNECTED     </td><td> Envelope Event Download - Call disconnected                </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_LOCATION_STATUS       </td><td> Envelope Event Download - Location status                  </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_USER_ACTIVITY         </td><td> Envelope Event Download - User activity                    </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_IDLE_SCREEN_AVAILABLE </td><td> Envelope Event Download - Idle screen available            </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_CARD_READER_STATUS    </td><td> Envelope Event Download - Card Reader Status               </td></tr>
 <tr><td> EVENT_STATUS_COMMAND                       </td><td> Status APDU command event                                  </td></tr>       
 <tr><td> EVENT_EVENT_DOWNLOAD_LANGUAGE_SELECTION    </td><td> Envelope Language Selection                                </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_BROWSER_TERMINATION   </td><td> Envelope Browser Termination                               </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_DATA_AVAILABLE        </td><td> Envelope Event Download Data Available                     </td></tr>
 <tr><td> EVENT_EVENT_DOWNLOAD_CHANNEL_STATUS        </td><td> Envelope Event Download Channel Status                     </td></tr>
 <tr><td> EVENT_FORMATTED_SMS_CB                     </td><td> Formatted Cell Broadcast data Download command reception   </td></tr>       
 <tr><td> EVENT_UNRECOGNIZED_ENVELOPE                </td><td> Unrecognized Envelope command reception                    </td></tr>
 </Table><br>

 Toolkit applet example :<pre><code>
 import javacard.framework.*;
 import sim.toolkit.*;
 //
 // The HelloWorld class is a simple Toolkit applet, which may be used as an
 // example to show how such an applet will be installed and registered and
 // how it will be triggered.
 //
 public class HelloWorld extends Applet implements ToolkitInterface,ToolkitConstants {
     // data fields
     private static final byte CMD_QUALIFIER = (byte)0x80;
     private byte[] menuEntry = {'S','e','r','v','i','c','e','1'};
     private byte[] textBuf = {'H','e','l','l','o',' ','w','o','r','l','d',' ','!'};
     private ToolkitRegistry reg;
     //
     // Constructor of applet
     //
     public HelloWorld() {
         // get a Registry object...
         // ...and initialize it according to the applet characteristics
         reg.initMenuEntry(menuEntry, (short)0, (short)menuEntry.length, PRO_CMD_DISPLAY_TEXT, false, 0, 0);
     }
     //
     // Install method
     // *param bArray the array containing installation parameters
     // *param bOffset the starting offset in bArray
     // *param bLength the length in bytes of the parameter data in bArray
     //
     public static void install(byte bArray[], short bOffset, byte bLength) throws ISOException {
         // create and register applet
         HelloWorld HelloWorldApplet = new HelloWorld();
         HelloWorldApplet.register();
     }
     //
     // Process toolkit events
     // *param event the type of event to be processed
     // *exception ToolkitException
     //
     public void processToolkit(byte event) throws ToolkitException {
         // get the ProactiveHandler system instance
         ProactiveHandler proHdlr = ProactiveHandler.getTheHandler();

         if (event == EVENT_MENU_SELECTION) {
             // prepare a Display Text command
             proHdlr.init((byte) PRO_CMD_DISPLAY_TEXT, (byte)CMD_QUALIFIER, (byte)0x02);
             proHdlr.appendTLV((byte)(TAG_TEXT_STRINGTAG_SET_CR), textBuf,
                              (short)0, (short)textBuf.length);
             proHdlr.send();
         }
     }
 }
 </code></pre>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>5.4.0</DD>
<DT><B>See Also:</B><DD><A HREF="../../sim/toolkit/ToolkitRegistry.html"><CODE>ToolkitRegistry</CODE></A>, 
<A HREF="../../sim/toolkit/ToolkitException.html"><CODE>ToolkitException</CODE></A>, 
<A HREF="../../sim/toolkit/ToolkitConstants.html"><CODE>ToolkitConstants</CODE></A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../sim/toolkit/ToolkitInterface.html#processToolkit(byte)">processToolkit</A></B>(byte&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is the standard toolkit event handling method of a Toolkit applet and 
 is called by the Toolkit Handler to process the current Toolkit event. 
 </TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="processToolkit(byte)"><!-- --></A><H3>
processToolkit</H3>
<PRE>
public void <B>processToolkit</B>(byte&nbsp;event)
                    throws <A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></PRE>
<DL>
<DD>This method is the standard toolkit event handling method of a Toolkit applet and 
 is called by the Toolkit Handler to process the current Toolkit event. 
 This method is invoked for notification of registered events.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>event</CODE> - the type of event to be processed.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../sim/toolkit/ToolkitException.html">ToolkitException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../sim/toolkit/ToolkitRegistry.html#getEntry()"><CODE>ToolkitRegistry.getEntry()</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ToolkitInterface.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../sim/toolkit/ToolkitConstants.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ToolkitInterface.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
