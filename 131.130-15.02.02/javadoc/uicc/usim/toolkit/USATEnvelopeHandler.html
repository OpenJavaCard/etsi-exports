<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Mon Feb 03 10:34:02 CET 2020 -->
<title>USATEnvelopeHandler (3GPP TS 31.130 USIM API for Java Card REL-15 15.2.1)</title>
<meta name="date" content="2020-02-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="USATEnvelopeHandler (3GPP TS 31.130 USIM API for Java Card REL-15 15.2.1)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../uicc/usim/toolkit/ToolkitConstants.html" title="interface in uicc.usim.toolkit"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../uicc/usim/toolkit/USATEnvelopeHandlerSystem.html" title="class in uicc.usim.toolkit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?uicc/usim/toolkit/USATEnvelopeHandler.html" target="_top">Frames</a></li>
<li><a href="USATEnvelopeHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uicc.usim.toolkit</div>
<h2 title="Interface USATEnvelopeHandler" class="title">Interface USATEnvelopeHandler</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">USATEnvelopeHandler</span></pre>
<div class="block">The USATEnvelopeHandler interface contains basic methods to handle the <b>SMS Envelope
 </b>data field. This interface will be used by the Toolkit applet in order to
 have access to the current SMS Envelope information. No constructor is available
 for the Toolkit applet.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>uicc.toolkit.EnvelopeHandler</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../uicc/usim/toolkit/USATEnvelopeHandler.html#getSecuredDataLength--">getSecuredDataLength</a></span>()</code>
<div class="block">Looks for the length of the Secured Data from the Command Packet in the first SMS TPDU
 or Cell Broadcast Page Simple or USSD String TLV contained in the Envelope handler.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../uicc/usim/toolkit/USATEnvelopeHandler.html#getSecuredDataOffset--">getSecuredDataOffset</a></span>()</code>
<div class="block">Looks for the Secured Data from the Command Packet in the first SMS TPDU
 or Cell Broadcast Page Simple TLV or USSD String TLV contained in the Envelope handler.<br>
 <br>
 This can be used on the events:
 EVENT_FORMATTED_SMS_PP_ENV, EVENT_FORMATTED_SMS_PP_UPD, if the SMS TP-UD is formatted
 according to TS 31.115 Single or Concatenated Short Message.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../uicc/usim/toolkit/USATEnvelopeHandler.html#getShortMessageLength--">getShortMessageLength</a></span>()</code>
<div class="block">Looks for the length of the Short Message in the User Data part of the first SMS TPDU or Cell Broadcast Page COMPREHENSION TLV 
 contained in the USATEnvelopeHandler.<br>
 <br>
 This can be used on the events: 
 EVENT_FORMATTED_SMS_PP_ENV, EVENT_FORMATTED_SMS_PP_UPD, EVENT_UNFORMATTED_SMS_PP_ENV, EVENT_UNFORMATTED_SMS_PP_UPD.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../uicc/usim/toolkit/USATEnvelopeHandler.html#getShortMessageOffset--">getShortMessageOffset</a></span>()</code>
<div class="block">Looks for the Short Message offset in the User Data part of the first SMS TPDU 
 or of the first Cell Broadcast Page Simple TLV contained in the USATEnvelopeHandler.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../uicc/usim/toolkit/USATEnvelopeHandler.html#getTPUDLOffset--">getTPUDLOffset</a></span>()</code>
<div class="block">Looks for the TP-UDL field in the first TPDU TLV element in the Envelope
 data field.<br>

 <br>
 This method can be used on the events: 
 EVENT_FORMATTED_SMS_PP_ENV, EVENT_FORMATTED_SMS_PP_UPD, EVENT_UNFORMATTED_SMS_PP_ENV, EVENT_UNFORMATTED_SMS_PP_UPD.
 <br>
 If the element is available it becomes the TLV selected.<br></div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>short</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../uicc/usim/toolkit/USATEnvelopeHandler.html#getUserDataLength--">getUserDataLength</a></span>()</code>
<div class="block">Looks for the TP-User Data field in the first TPDU TLV element contained in the Envelope Handler.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTPUDLOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTPUDLOffset</h4>
<pre>short&nbsp;getTPUDLOffset()
              throws ToolkitException</pre>
<div class="block">Looks for the TP-UDL field in the first TPDU TLV element in the Envelope
 data field.<br>

 <br>
 This method can be used on the events:<ul> 
 <li>EVENT_FORMATTED_SMS_PP_ENV, EVENT_FORMATTED_SMS_PP_UPD, EVENT_UNFORMATTED_SMS_PP_ENV, EVENT_UNFORMATTED_SMS_PP_UPD.</ul>
 <br>
 If the element is available it becomes the TLV selected.<br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>TPUDL offset in the first TPDU TLV element if TPUDL exists.
         The value retrieved by using getValueByte is meaningless when the message is
         Concatenated. To retrieve the TP-User-Data-Length the method getUserDataLength() shall be used.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ToolkitException</code> - with the following reason codes: <ul>
      <li><code>UNAVAILABLE_ELEMENT</code> in case of unavailable TPDU TLV element or if the TPUDL field does not exist</ul></dd>
</dl>
</li>
</ul>
<a name="getSecuredDataOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSecuredDataOffset</h4>
<pre>short&nbsp;getSecuredDataOffset()
                    throws ToolkitException</pre>
<div class="block">Looks for the Secured Data from the Command Packet in the first SMS TPDU
 or Cell Broadcast Page Simple TLV or USSD String TLV contained in the Envelope handler.<br>
 <br>
 This can be used on the events:<ul>
 <li>EVENT_FORMATTED_SMS_PP_ENV, EVENT_FORMATTED_SMS_PP_UPD, if the SMS TP-UD is formatted
 according to TS 31.115 Single or Concatenated Short Message.
 <li>EVENT_FORMATTED_SMS_CB, if the Cell Broadcast Page is formatted according to TS 31.115.
 <li>EVENT_FORMATTED_USSD, if the USSD String is formatted according to TS 31.115.
 If the element is available it becomes the TLV selected.</ul>
 <br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the offset of the Secured Data first byte in the first SMS TPDU or Cell Broadcast Page or USSD String TLV element.
         If the Secured Data length is zero the value returned shall be the offset of the first byte following
         the TS 31.115 Command Packet structure.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ToolkitException</code> - with the following reason codes: <ul>
      <li><code>UNAVAILABLE_ELEMENT</code> in case of unavailable SMS TPDU or Cell Broadcast Page TLV element or wrong data format </ul></dd>
</dl>
</li>
</ul>
<a name="getSecuredDataLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSecuredDataLength</h4>
<pre>short&nbsp;getSecuredDataLength()
                    throws ToolkitException</pre>
<div class="block">Looks for the length of the Secured Data from the Command Packet in the first SMS TPDU
 or Cell Broadcast Page Simple or USSD String TLV contained in the Envelope handler. <br>
 <br>
 This can be used on the events:<ul>
 <li>EVENT_FORMATTED_SMS_PP_ENV, EVENT_FORMATTED_SMS_PP_UPD, if the SMS TP-UD
 is formatted according to TS 31.115 Single or Concatenated Short Message.
 <li>EVENT_FORMATTED_SMS_CB, if the Cell Broadcast Page is formatted according to TS 31.115.
 <li>EVENT_FORMATTED_USSD, if the USSD String is formatted according to TS 31.115.
 If the element is available it becomes the TLV selected.</ul></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the length of the Secured Data contained in the first SMS TPDU or Cell Broadcast Page TLV or USSD String element (without padding bytes).
         If the Secured Data length is zero, no exception shall be thrown.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ToolkitException</code> - with the following reason codes: <ul>
      <li><code>UNAVAILABLE_ELEMENT</code> in case of unavailable SMS TPDU or Cell Broadcast Page or USSD String TLV element or wrong data format </ul></dd>
</dl>
</li>
</ul>
<a name="getUserDataLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserDataLength</h4>
<pre>short&nbsp;getUserDataLength()
                 throws ToolkitException</pre>
<div class="block">Looks for the TP-User Data field in the first TPDU TLV element contained in the Envelope Handler. <br>
 <br>
 This method can be used on the events:<ul>
 <li>EVENT_FORMATTED_SMS_PP_ENV,EVENT_FORMATTED_SMS_PP_UPD, EVENT_UNFORMATTED_SMS_PP_ENV, EVENT_UNFORMATTED_SMS_PP_UPD.
 If the element is available it becomes the TLV selected.</ul>
 <br></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the length of the User Data contained in the first SMS TPDU TLV element.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ToolkitException</code> - with the following reason codes: <ul>
      <li><code>UNAVAILABLE_ELEMENT</code> in case of unavailable TPDU TLV element or wrong data format </ul></dd>
</dl>
</li>
</ul>
<a name="getShortMessageOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getShortMessageOffset</h4>
<pre>short&nbsp;getShortMessageOffset()
                     throws ToolkitException</pre>
<div class="block">Looks for the Short Message offset in the User Data part of the first SMS TPDU 
 or of the first Cell Broadcast Page Simple TLV contained in the USATEnvelopeHandler.

 If this offset is available the simple TLV element becomes the TLV selected.

 This can be used on the events:<ul> 
 <li>EVENT_FORMATTED_SMS_PP_ENV, EVENT_FORMATTED_SMS_PP_UPD, EVENT_UNFORMATTED_SMS_PP_ENV, 
 EVENT_UNFORMATTED_SMS_PP_UPD. It returns the offset of the first byte in the User Data part of the first SMS TPDU. 
 It is the offset of the first byte after the UDH, if any.</ul>
 <br>
 This can be used on the events:<ul> 
 <li>EVENT_FORMATTED_SMS_CB, EVENT_UNFORMATTED_SMS_CB. It returns the offset of the first 
 byte in the User Data part of the first Cell Broadcast Page Simple TLV. Is is the offset of the first byte after 
 the UDH, if any.</ul>
 <br></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ToolkitException</code> - with the following reason codes: <ul>
      <li><code>UNAVAILABLE_ELEMENT</code> in case of unavailable SMS TPDU or Cell Broadcast Page or wrong data format  </ul></dd>
</dl>
</li>
</ul>
<a name="getShortMessageLength--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getShortMessageLength</h4>
<pre>short&nbsp;getShortMessageLength()
                     throws ToolkitException</pre>
<div class="block">Looks for the length of the Short Message in the User Data part of the first SMS TPDU or Cell Broadcast Page COMPREHENSION TLV 
 contained in the USATEnvelopeHandler.<br>
 <br>
 This can be used on the events:<ul> 
 <li>EVENT_FORMATTED_SMS_PP_ENV, EVENT_FORMATTED_SMS_PP_UPD, EVENT_UNFORMATTED_SMS_PP_ENV, EVENT_UNFORMATTED_SMS_PP_UPD. 
 It, returns the length of the Short Message in the User Data part of the first SMS TPDU. This length does not include the UDH, if any.</ul>
 <br>
 This can be used on the events:<ul> 
 <li>EVENT_FORMATTED_SMS_CB, EVENT_UNFORMATTED_SMS_CB. It returns the length of the "CBS-Message-Information-Page" field times the number of pages as defined in 3GPP TS 23.041
 </ul>
 <br>

 If this length is available the simple TLV becomes the TLV selected.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the length of the Short Message in the User Data part of the first SMS TPDU or the length of the Cell Broadcast Page Message Information. 
             This length does not include the UDH, if any. If the Short Message length is zero, no exception shall be thrown.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>ToolkitException</code> - with the following reason codes: <ul>
      <li><code>UNAVAILABLE_ELEMENT</code> in case of unavailable SMS TPDU or Cell Broadcast Page  or wrong data format </ul></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../uicc/usim/toolkit/ToolkitConstants.html" title="interface in uicc.usim.toolkit"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../uicc/usim/toolkit/USATEnvelopeHandlerSystem.html" title="class in uicc.usim.toolkit"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?uicc/usim/toolkit/USATEnvelopeHandler.html" target="_top">Frames</a></li>
<li><a href="USATEnvelopeHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2019 ETSI All Rights Reserved.</i></small></p>
</body>
</html>
